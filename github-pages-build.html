<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>[Website] GitHub Pages 快速搭建个人博客 - LanKE.e 婪歌</title> <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@1,500&display=swap" rel="stylesheet"> <link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel="stylesheet"> <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet"> <link rel="stylesheet" href="/assets/dist/css/style.css"> <!-- <link rel="stylesheet" href="/assets/dist/awsm.css/awsm_theme_big-stone.min.css" media="(prefers-color-scheme: dark)"> <link rel="stylesheet" href="/assets/dist/awsm.css/awsm_theme_white.min.css" media="(prefers-color-scheme: no-preference), (prefers-color-scheme: light)"> <link rel="stylesheet" href="/assets/dist/rouge/syntax-base16.dark.css" media="(prefers-color-scheme: dark)"> <link rel="stylesheet" href="/assets/dist/rouge/syntax-github.css" media="(prefers-color-scheme: no-preference), (prefers-color-scheme: light)"> --> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>[Website] GitHub Pages 快速搭建个人博客 | LanKE.e 婪歌</title> <meta name="generator" content="Jekyll v3.9.2" /> <meta property="og:title" content="[Website] GitHub Pages 快速搭建个人博客" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="GitHub Pages配置" /> <meta property="og:description" content="GitHub Pages配置" /> <link rel="canonical" href="https://lankee.blog/github-pages-build.html" /> <meta property="og:url" content="https://lankee.blog/github-pages-build.html" /> <meta property="og:site_name" content="LanKE.e 婪歌" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2019-08-03T00:00:00+08:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="[Website] GitHub Pages 快速搭建个人博客" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2019-08-03T00:00:00+08:00","datePublished":"2019-08-03T00:00:00+08:00","description":"GitHub Pages配置","headline":"[Website] GitHub Pages 快速搭建个人博客","mainEntityOfPage":{"@type":"WebPage","@id":"https://lankee.blog/github-pages-build.html"},"url":"https://lankee.blog/github-pages-build.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <div class="content"> <header> <div class="main"> <a href="https://lankee.blog/">LanKE.e 婪歌</a> </div> <nav> <a class='' href="/">首页</a> <!-- <a class='' href="/archives.html"> Archives</a> --> <a class='' href="/about.html">关于</a> </nav> </header> <hr class="light-hr"> <main> <div class="title"> <h1 class="title">[Website] GitHub Pages 快速搭建个人博客</h1> <div class="meta"> <time datetime="03-08-2019">Aug 03 2019</time> </div> </div> <hr class="no-margin light-hr "> <h2 id="github-pages配置">GitHub Pages配置</h2> <p>关于如何创建GitHub账号之类的步骤还是略过了。大概步骤：</p> <ul> <li>创建一个 <strong>Public Repository</strong>。 (<em>必须是公共仓库，如果要自定义域名，仓库名随意，如果使用GitHub提供的二级域名就需要使用’name.github.io’的格式命名。</em>)</li> <li>选择静态站点生成器(Static Site Generator，SSG) <br /> 常见的SSG很多，常见不限于：<strong><a href="https://github.com/gohugoio/hugo">Hugo</a></strong>、<strong><a href="https://github.com/jekyll/jekyll">Jekyll</a></strong>、<strong><a href="https://github.com/hexojs/hexo">Hexo</a></strong>、<strong><a href="https://github.com/getpelican/pelican">Pelican</a></strong>、<strong><a href="https://github.com/getgridea/gridea">Gridea</a></strong>、<strong><a href="https://github.com/gatsbyjs/gatsby">Gatsby</a></strong> 等等。它们各有各的优势和特点，这里就不一一列举分析了。<br /> 本文选择GitHub<a href="https://docs.github.com/zh/pages/setting-up-a-github-pages-site-with-jekyll/about-github-pages-and-jekyll">官方建议</a>的Jekyll，需要注意GitHub当前<a href="https://pages.github.com/versions/">支持的版本</a>。<br /> 当然你也可以直接上传生成好的静态文件。</li> <li>搭建本地测试环境<br /> 安装参考官方：<a href="https://jekyllrb.com/docs/installation/macos/">Jekyll on macOS</a>。(<em>过程中需要注意Ruby和Jekyll的<strong>版本依赖</strong>就可以杜绝大多错误。</em>)<br /> 新建Jekyll项目和本地运行主要代码： <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c">#安装bundler</span>
  <span class="nv">$ </span>gem <span class="nb">install </span>bundler
  <span class="c">#创建一个项目，目录就是demo</span>
  <span class="nv">$ </span>jekyll new demo
  <span class="c">#进入demo项目目录下</span>
  <span class="nv">$ </span><span class="nb">cd </span>demo
  <span class="c">#build并运行</span>
  <span class="nv">$ </span>bundle <span class="nb">exec </span>jekyll serve
  <span class="c">#https://lankee.blog</span>
</code></pre></div> </div> </li> <li>上传代码到GitHub仓库。</li> <li>域名DNS解析<br /> 进入个人域名注册商管理界面，找到域名解析页面。 添加4个 <strong>A</strong> 类型记录，名称均为 <strong>@</strong>，IP分别为： <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    185.199.108.153
  185.199.109.153
  185.199.110.153
  185.199.111.153
</code></pre></div> </div> <p> 是否解析成功，可以本地ping域名查看。</p> </li> <li>Pages设置，开启HTTPS。<br /> 进入仓库的 Settings –&gt; Pages 页面进行设置，大致方式如图： <center> <img style="border-radius: 0.3125em;box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" src="/assets/dist/images/0001.pic.jpg" /> <br /> </center> </li> <li>到这里，不出意外你应该就能访问你的个人博客了 =。=</li> </ul> <h2 id="使用cloudflare加速和开启https注意事项">使用Cloudflare<del>加速</del>和开启HTTPS注意事项</h2> <p>由于之前存在过GitHub被墙的特殊情况，为了保证在国内环境的正常访问，所以选择将域名服务器切换到Cloudflare完成DNS解析。</p> <p>依旧省略账号注册等基本操作，大致步骤如下：</p> <ul> <li>添加域名到Cloudflare<br /> <em>如果就是在Cloudflare买的域名就忽略这一步。</em><br /> 添加一个方案为Free的站点，各项一路continue。主要注意以下设置：<br /> ** Encryption Mode 设为 Full (加密模式设为完全，注意不是strict)<br /> ** 开启 Always Use HTTPS (始终开启HTTPS)<br /> ** 开启 Opportunistic Encryption (随机加密)<br /> ** 开启 Authenticated Origin Pulls (身份验证通过的源服务器拉取)<br /> 最后将域名注册商原有的域名服务器替换为Cloudflare提供的域名服务器。</li> <li>DNS解析<br /> 还是添加4个 <strong>A</strong> 类型记录，名称均为 <strong>@</strong>，<strong>Proxy status(代理状态)设为DNS only(仅DNS)</strong>(就是那朵橙色的云朵置灰)，IP仍是： <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    185.199.108.153
  185.199.109.153
  185.199.110.153
  185.199.111.153
</code></pre></div> </div> </li> <li>GitHub Pages设置<br /> 在仓库的Pages设置页面，勾选Enforce HTTPS，等待GitHub下发证书。<br /> 确认证书下发成功后进行下一步。</li> <li>再次修改DNS解析记录<br /> 将每条记录的<strong>Proxy status(代理状态)设为Proxied(已代理)</strong>(即那朵灰色的云朵改回来)</li> <li>再将最初的 Encryption Mode 设为 Full(strict) (加密模式设为完全(严格))</li> <li><strong>Full 和 Full(strict)的区别</strong><br /> Full(strict)模式使用的是由可信CA或Cloudflare Origin CA签名的有效证书并对每个请求验证证书，而Full模式使用的无需验证的自签名证书。GitHub Pages可以通过开启Enforce HTTPS来获取免费的可信证书，满足开启Full(strict)模式的条件。</li> <li>Done</li> </ul> <h2 id="dns解析记录类型列表">DNS解析记录类型列表</h2> <blockquote> <p>参考<a href="https://zh.wikipedia.org/wiki/DNS%E8%AE%B0%E5%BD%95%E7%B1%BB%E5%9E%8B%E5%88%97%E8%A1%A8">维基百科</a></p> </blockquote> <p><br /> <br /></p> <div class="post-tags"> <nav class="nav-post-tags-list"> <ul class="tags"> <li><a href="/tag/website/">Website</a></li> <li><a href="/tag/github-pages/">GitHub Pages</a></li> <li><a href="/tag/dns/">DNS</a></li> </ul> </nav> </div> </main> <footer> <hr class="footer-hr"> <div class="ui-flex"> <div class='wrapper-footer'> © 2023 LanKE.e 婪歌 | <a href="mailto:dr.xx.yvens@gmail.com">Yven Fong</a> </div> </div> </footer> </div> </body> </html>
