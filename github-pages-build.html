<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <link rel="shortcut icon" href="/favicon.ico"> <title>[WEBSITE] GitHub Pages 快速搭建个人博客 - Out of Memory</title> <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@1,500&display=swap" rel="stylesheet"> <link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel="stylesheet"> <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet"> <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet"> <link rel="stylesheet" href="/assets/dist/css/style.css"> <!-- <link rel="stylesheet" href="/assets/dist/awsm.css/awsm_theme_big-stone.min.css" media="(prefers-color-scheme: dark)"> <link rel="stylesheet" href="/assets/dist/awsm.css/awsm_theme_white.min.css" media="(prefers-color-scheme: no-preference), (prefers-color-scheme: light)"> <link rel="stylesheet" href="/assets/dist/rouge/syntax-base16.dark.css" media="(prefers-color-scheme: dark)"> <link rel="stylesheet" href="/assets/dist/rouge/syntax-github.css" media="(prefers-color-scheme: no-preference), (prefers-color-scheme: light)"> --> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>[WEBSITE] GitHub Pages 快速搭建个人博客 | Out of Memory</title> <meta name="generator" content="Jekyll v3.9.2" /> <meta property="og:title" content="[WEBSITE] GitHub Pages 快速搭建个人博客" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="GitHub Pages 配置" /> <meta property="og:description" content="GitHub Pages 配置" /> <link rel="canonical" href="https://outofmemory.blog/github-pages-build.html" /> <meta property="og:url" content="https://outofmemory.blog/github-pages-build.html" /> <meta property="og:site_name" content="Out of Memory" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2019-08-03T00:00:00+08:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="[WEBSITE] GitHub Pages 快速搭建个人博客" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2019-08-03T00:00:00+08:00","datePublished":"2019-08-03T00:00:00+08:00","description":"GitHub Pages 配置","headline":"[WEBSITE] GitHub Pages 快速搭建个人博客","mainEntityOfPage":{"@type":"WebPage","@id":"https://outofmemory.blog/github-pages-build.html"},"url":"https://outofmemory.blog/github-pages-build.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <div class="content"> <header> <div class="main"> <a href="https://outofmemory.blog/">Out of Memory</a> </div> <nav> <a class='' href="/">首页</a> <!-- <a class='' href="/archives.html"> Archives</a> --> <a class='' href="/about.html">关于</a> </nav> </header> <hr class="light-hr"> <main> <div class="title"> <h1 class="title">[WEBSITE] GitHub Pages 快速搭建个人博客</h1> <div class="meta"> <time datetime="03-08-2019">Aug 03 2019</time> </div> </div> <hr class="no-margin light-hr "> <h2 id="github-pages-配置">GitHub Pages 配置</h2> <p>关于如何创建 GitHub 账号之类的步骤还是略过了。大概步骤：</p> <ul> <li>创建一个 <strong>Public Repository</strong>。 (<em>必须是公共仓库，如果要自定义域名，仓库名随意，如果使用 GitHub 提供的二级域名就需要使用’name.github.io’的格式命名。</em>)</li> <li>选择静态站点生成器(Static Site Generator，SSG) <br /> 常见的 SSG 很多，常见不限于：<strong><a href="https://github.com/gohugoio/hugo" target="_blank">Hugo</a></strong>、<strong><a href="https://github.com/jekyll/jekyll" target="_blank">Jekyll</a></strong>、<strong><a href="https://github.com/hexojs/hexo" target="_blank">Hexo</a></strong>、<strong><a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a></strong>、<strong><a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a></strong>、<strong><a href="https://github.com/gatsbyjs/gatsby" target="_blank">Gatsby</a></strong> 等等。它们各有各的优势和特点，这里就不一一列举分析了。<br /> 本文选择 GitHub <a href="https://docs.github.com/zh/pages/setting-up-a-github-pages-site-with-jekyll/about-github-pages-and-jekyll" target="_blank">官方建议</a>的 Jekyll，需要注意 GitHub 当前<a href="https://pages.github.com/versions/" target="_blank">支持的版本</a>。<br /> 当然你也可以直接上传生成好的静态文件。</li> <li>搭建本地测试环境<br /> 安装参考官方：<a href="https://jekyllrb.com/docs/installation/macos/" target="_blank">Jekyll on macOS</a>。(<em>过程中需要注意 Ruby 和 Jekyll 的<strong>版本依赖</strong>就可以杜绝大多错误。</em>)<br /> 新建 Jekyll 项目和本地运行主要代码： <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="c"># 安装bundler</span>
  <span class="nv">$ </span>gem <span class="nb">install </span>bundler
  <span class="c"># 创建一个项目，目录就是demo</span>
  <span class="nv">$ </span>jekyll new demo
  <span class="c"># 进入demo项目目录下</span>
  <span class="nv">$ </span><span class="nb">cd </span>demo
  <span class="c"># build并运行</span>
  <span class="nv">$ </span>bundle <span class="nb">exec </span>jekyll serve
  <span class="c"># 默认地址：http://127.0.0.1:4000</span>
</code></pre></div> </div> </li> <li>上传代码到 GitHub 仓库。</li> <li>域名 DNS 解析<br /> 进入个人域名注册商管理界面，找到域名解析页面。 添加4个 <strong>A</strong> 类型记录，名称均为 <strong>@</strong>，IP 分别为： <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    185.199.108.153
  185.199.109.153
  185.199.110.153
  185.199.111.153
</code></pre></div> </div> <p> 是否解析成功，可以本地ping域名查看。</p> </li> <li>Pages 设置，开启 HTTPS。<br /> 进入仓库的 Settings –&gt; Pages 页面进行设置，大致方式如图： <center> <img style="border-radius: 0.3125em;box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" src="/assets/dist/images/0001.pic.jpg" /> <br /> </center> </li> <li>到这里，不出意外你应该就能访问你的个人博客了 =。=</li> </ul> <h2 id="使用-cloudflare-加速和开启-https-注意事项">使用 Cloudflare <del>加速</del>和开启 HTTPS 注意事项</h2> <p>由于之前存在过 GitHub 被墙的特殊情况，为了保证在国内环境的正常访问，所以选择将域名服务器切换到 Cloudflare 完成 DNS 解析。</p> <p>依旧省略账号注册等基本操作，大致步骤如下：</p> <ul> <li>添加域名到 Cloudflare<br /> <em>如果就是在 Cloudflare 买的域名就忽略这一步。</em><br /> 添加一个方案为 Free 的站点，各项一路 continue。主要注意以下设置：<br /> ** Encryption Mode 设为 Full (加密模式设为完全，注意不是 strict)<br /> ** 开启 Always Use HTTPS (始终开启 HTTPS)<br /> ** 开启 Opportunistic Encryption (随机加密)<br /> ** 开启 Authenticated Origin Pulls (身份验证通过的源服务器拉取)<br /> 最后将域名注册商原有的域名服务器替换为 Cloudflare 提供的域名服务器。</li> <li>DNS解析<br /> 还是添加4个 <strong>A</strong> 类型记录，名称均为 <strong>@</strong>，<strong>Proxy status(代理状态)设为 DNS only(仅 DNS)</strong> (就是那朵橙色的云朵置灰)，IP 仍是： <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    185.199.108.153
  185.199.109.153
  185.199.110.153
  185.199.111.153
</code></pre></div> </div> </li> <li>GitHub Pages设置<br /> 在仓库的 Pages 设置页面，勾选 Enforce HTTPS，等待 GitHub 下发证书。<br /> 确认证书下发成功后进行下一步。</li> <li>再次修改 DNS 解析记录<br /> 将每条记录的 <strong>Proxy status(代理状态) 设为 Proxied(已代理)</strong>(即那朵灰色的云朵改回来)</li> <li>再将最初的 Encryption Mode 设为 Full(strict) (加密模式设为完全(严格))</li> <li><strong>Full 和 Full(strict) 的区别</strong><br /> Full(strict)模式使用的是由可信 CA 或 Cloudflare Origin CA 签名的有效证书并对每个请求验证证书，而 Full 模式使用的无需验证的自签名证书。GitHub Pages 可以通过开启 Enforce HTTPS 来获取免费的可信证书，满足开启 Full(strict) 模式的条件。</li> <li>Done</li> </ul> <h2 id="录入搜索引擎">录入搜索引擎</h2> <p>有空补上 =。=</p> <h2 id="dns-解析记录类型列表">DNS 解析记录类型列表</h2> <blockquote> <p>参考<a href="https://zh.wikipedia.org/wiki/DNS%E8%AE%B0%E5%BD%95%E7%B1%BB%E5%9E%8B%E5%88%97%E8%A1%A8" target="_blank">维基百科</a></p> </blockquote> <p><br /></p> <div class="post-tags"> <nav class="nav-post-tags-list"> <ul class="tags"> <li><a href="/tag/website/">Website</a></li> <li><a href="/tag/github-pages/">GitHub Pages</a></li> <li><a href="/tag/dns/">DNS</a></li> </ul> </nav> </div> </main> <footer> <hr class="footer-hr"> <div class="ui-flex"> <div class='wrapper-footer'> © 2023 Out of Memory.blog | <a href="mailto:dr.xx.yvens@gmail.com">Yven Fong</a> </div> </div> </footer> </div> </body> </html>
